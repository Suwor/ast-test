

Тестовое задание для AST 
-------------------

 - Функция Calculate находится в файле **\frontend\models\Soap.php**

 - Основной код (сервер, клиент) **\frontend\controllers\SoapController.php**

Calculate ( `string` $city , `string` $name, `string` $date [, `mixed` $... ]) : `array`

Тестовая функция, которая возвращает рандомные значения "price" (число) и "info" (строка) в случае, если во входном параметре "date" дата больше или равна текущему дню.
Если параметр "date" в запросе меньше текущего дня, то возвращается только элемент "error" с описанием ошибки.


**Входные параметры:**

| Имя | Описание | Тип/формат данных | Обязательный параметр |
| ------ | ------ | ------ | ------ |
| city | - | string | да |
| name | - | string | да |
| date | - | string / yyyy-mm-dd | да |
| ... | функция может принимать дополнительно неопределённое количество параметров | mixed | нет |

**Возвращаемый параметр - массив, содержащий следующие элементы:**

| Имя | Описание | Тип/формат данных | Обязательный параметр |
| ------ | ------ | ------ | ------ |
| price | стоимость, сгенерированное случайное число | integer | нет |
| info | рандомный текст | string | нет |
| error | Строка, содержащая текст ошибки, если входной параметр "date" меньше текущего дня, во всех остальных случаях - 0 | mixed | да |

###Авторизация

Авторизация происходит по схеме http basic.

Логин и пароль указываются на странице - калькуляторе (soap/client) и сравниваются с имеющимися в базе пользователями.

Поэтому для корректной работы нужно выполнить инициализацию (yii, composer), миграции и создать пользователя.
